"use strict";var vm=new Vue({el:"#app",data:{user:{},activeAddressId:1,addressList:[]},methods:{getAddressList:function(){var s=this,d=getApiUrl("/shop-test/api/address/get_shipping_address_list/");$.ajax({url:d,type:"POST",dataType:"json",data:{nailUserId:this.user.userId,nailUserInfoId:this.user.corpId},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(d){200==d.code?(s.addressList=d.data,s.addressList.some(function(d){if(d.isDefault)return s.activeAddressId=d.addressId,!0})):6019==d.code?(s.addressList=d.data,s.activeAddressId=0):ddToast(d.message)},error:function(s){ddToast("网络错误")}})},checkAddress:function(s){var d=this,e=getApiUrl("/shop-test/api/address/set_default_address/");$.ajax({url:e,type:"POST",dataType:"json",data:{nailUserId:this.user.userId,nailUserInfoId:this.user.corpId,addressId:s},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){200==e.code?d.activeAddressId=s:ddToast(e.message)},error:function(s){ddToast("网络错误")}})},toAddressEdit:function(s){s?location.href="editAddress.html?addressId="+s:location.href="editAddress.html"},deleteAddress:function(s){var d=this;this.$dialog.confirm({title:"确认要删除收货地址吗",message:""}).then(function(){var e=getApiUrl("/shop-test/api/address/del_address/");$.ajax({url:e,type:"POST",dataType:"json",data:{nailUserId:d.user.userId,nailUserInfoId:d.user.corpId,addressId:s},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(s){200==s.code?d.getAddressList():ddToast(s.message)},error:function(s){ddToast("网络错误")}})})["catch"](function(){ddToast("网络错误")})}},mounted:function(){this.user=getSession(),this.getAddressList()}});