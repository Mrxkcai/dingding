"use strict";var vm=new Vue({el:"#app",data:{phone:"",orderId:0,goodsInfo:{productName:"",cover:"",brief:"",totalAmount:"",count:""},bottom:!0,showPop:!1,statusTime:"",popTitle:"",popContent:[],setStyle:"",url:"",status:-1,orderStatus:"暂无",statusWords:"暂无",objAddress:"",orderNo:"",createTime:"",id:""},methods:{getOrderDetail:function(){var t=getApiUrl("/shop-test/rest/orders/dingding/view");$.ajax({type:"get",data:{id:this.orderId},url:t,success:function(t){200==t.code&&(vm.status=t.data.status,9==vm.status?(vm.statusWords="商品租用到期后买断或完成回收，冻结预授权金额将会释放",vm.orderStatus="租用中",vm.bottom=!0):3==vm.status?(vm.statusWords=t.data.expressName+"："+t.data.expressLastInfo.time+" "+t.data.expressLastInfo.status,vm.orderStatus="待收货",vm.bottom=!0):0==vm.status?(vm.statusWords="请尽快完成支付，把宝贝带回家哦",vm.orderStatus="待支付",vm.bottom=!0):10==vm.status?(vm.statusWords="宝贝到期啦，重新下单吧",vm.orderStatus="租期已满",vm.bottom=!0):2==vm.status?(vm.statusWords="订单已经在备货中，请耐心等待",vm.orderStatus="待发货",vm.bottom=!0):16==vm.status?(vm.statusWords="请调整完善审核资料，增加审核成功概率",vm.orderStatus="审核拒绝",vm.bottom=!0):15==vm.status?(vm.statusWords="授权信息正在审核中，请耐心等待",vm.orderStatus="审核中",vm.bottom=!0):1==vm.status?(vm.statusWords="订单取消，用户主动取消",vm.orderStatus="订单取消",vm.bottom=!0):(vm.statusWords="订单失效",vm.orderStatus="订单失效",vm.bottom=!0),vm.statusTime=getTime(t.data.createTime,2),vm.phone=t.data.phone.substring(0,3)+"****"+t.data.phone.substring(7),null!=t.data.totalAmount&&0!=t.data.totalAmount||(t.data.totalAmount=0),t.data.totalAmount=t.data.totalAmount.toFixed(2),vm.objAddress=t.data,vm.goodsInfo.productName=t.data.productName,vm.goodsInfo.cover=t.data.cover,vm.goodsInfo.brief=t.data.brief,vm.goodsInfo.totalAmount=t.data.totalAmount,vm.goodsInfo.count=t.data.quantity,vm.orderNo=t.data.sn,vm.createTime=t.data.createTime)},error:function(t){ddToast("网络错误")}})},toBillOrder:function(){location.href="billOrder.html?orderId="+this.orderId},toUserAuth:function(){location.href="userAuth.html"},openModal:function(t){"payTip"==t?(this.popTitle="支付宝免密支付",this.setStyle="",this.popContent=["租用中，相关费用由商户通过支付宝向用户发起扣款，如约归还物品后，支付宝免密支付自动取消"]):"signTip"==t?(this.popTitle="签收须知",this.setStyle="",this.popContent=["收货当天你需求:","1.检查商品外包装完整；","2.快递本人签收；","3.签收当天视为合约生效"]):"contactTip"==t&&(this.popTitle="客服电话",this.setStyle="textAlign:center;fontSize:.38rem;lineHeight:2",this.popContent=["0571-85180735"]),this.showPop=!0},retBack:function(){location.href="refunds.html?orderNo="+this.orderNo},toLogistics:function(){location.href="logistics.html?orderNo="+this.orderNo+"&createTime="+this.createTime}},mounted:function(){this.orderId=getUrlParam("orderId"),this.getOrderDetail()}});